{"version":3,"names":["NativeModules","Platform","Alarm","LINKING_ERROR","select","ios","default","ExpoAlarmModule","Proxy","get","Error","scheduleAlarm","alarm","day","Date","toJSON","set","toAndroid","console","log","JSON","stringify","enableAlarm","uid","enable","disableAlarm","disable","stopAlarm","stop","snoozeAlarm","snooze","removeAlarm","remove","updateAlarm","update","removeAllAlarms","removeAll","getAllAlarms","alarms","getAll","map","a","fromAndroid","getAlarm","getAlarmState","getState"],"sources":["index.tsx"],"sourcesContent":["import { NativeModules, Platform } from 'react-native';\r\nimport Alarm from './models/Alarm'\r\n\r\nconst LINKING_ERROR =\r\n\t`The package 'expo-alarm-module' doesn't seem to be linked. Make sure: \\n\\n` +\r\n\tPlatform.select({ ios: \"- You have run 'pod install'\\n\", default: '' }) +\r\n\t'- You rebuilt the app after installing the package\\n' +\r\n\t'- You are not using Expo managed workflow\\n';\r\n\r\nconst ExpoAlarmModule = NativeModules.ExpoAlarmModule\r\n\t? NativeModules.ExpoAlarmModule\r\n\t: new Proxy(\r\n\t\t{},\r\n\t\t{\r\n\t\t\tget() {\r\n\t\t\t\tthrow new Error(LINKING_ERROR);\r\n\t\t\t},\r\n\t\t}\r\n\t);\r\n\r\nasync function scheduleAlarm(alarm: Alarm) {\r\n\tif (!(alarm instanceof Alarm)) {\r\n\t\talarm = new Alarm(alarm);\r\n\t}\r\n\r\n\tif (alarm.day instanceof Date) {\r\n\t\talarm.day = alarm.day.toJSON();\r\n\t}\r\n\r\n\tawait ExpoAlarmModule.set(alarm.toAndroid());\r\n\tconsole.log('scheduling alarm: ', JSON.stringify(alarm))\r\n}\r\n\r\nasync function enableAlarm(uid: number) {\r\n\tawait ExpoAlarmModule.enable(uid);\r\n}\r\n\r\nasync function disableAlarm(uid: number) {\r\n\tawait ExpoAlarmModule.disable(uid);\r\n}\r\n\r\nasync function stopAlarm() {\r\n\tawait ExpoAlarmModule.stop();\r\n}\r\n\r\nasync function snoozeAlarm() {\r\n\tawait ExpoAlarmModule.snooze();\r\n}\r\n\r\nasync function removeAlarm(uid: number) {\r\n\tawait ExpoAlarmModule.remove(uid);\r\n}\r\n\r\nasync function updateAlarm(alarm: Alarm) {\r\n\tif (!(alarm instanceof Alarm)) {\r\n\t\talarm = new Alarm(alarm);\r\n\t}\r\n\r\n\tif (alarm.day instanceof Date) {\r\n\t\talarm.day = alarm.day.toJSON();\r\n\t}\r\n\t\r\n\tawait ExpoAlarmModule.update(alarm.toAndroid());\r\n}\r\n\r\nasync function removeAllAlarms() {\r\n\tawait ExpoAlarmModule.removeAll();\r\n}\r\n\r\nasync function getAllAlarms() {\r\n\tconst alarms = await ExpoAlarmModule.getAll();\r\n\treturn alarms.map((a: any) => Alarm.fromAndroid(a));\r\n}\r\n\r\nasync function getAlarm(uid: number) {\r\n\tconst alarm = await ExpoAlarmModule.get(uid);\r\n\treturn Alarm.fromAndroid(alarm)\r\n}\r\n\r\nasync function getAlarmState() {\r\n\treturn ExpoAlarmModule.getState();\r\n}\r\n\r\n\r\nexport default Alarm;\r\nexport {\r\n\tscheduleAlarm,\r\n\tenableAlarm,\r\n\tdisableAlarm,\r\n\tstopAlarm,\r\n\tsnoozeAlarm,\r\n\tremoveAlarm,\r\n\tupdateAlarm,\r\n\tremoveAllAlarms,\r\n\tgetAllAlarms,\r\n\tgetAlarm,\r\n\tgetAlarmState\r\n};"],"mappings":"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"}